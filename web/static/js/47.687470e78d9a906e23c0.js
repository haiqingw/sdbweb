webpackJsonp([47],{"8djS":function(e,t){},cZsf:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=i("gyMJ"),a=(i("ulGR"),i("fxnj")),s=i.n(a);i("vLgD"),i("mw3O");var r={data:function(){return{deposit:"0",choiceBrandVal:"",popupVisible:!1,closeOnClickModal:!1,determineBindingLoading:!1,slots:[{flex:1,values:[{name:"请选择品牌",id:0}],className:"slot1",textAlign:"right"}],queryData:{brand:{requestType:"agent",requestKeywords:"product",platformID:this.$store.state.user.pid},confirmBinding:{requestType:"terminalmanage",requestKeywords:"bindextreme",platformID:this.$store.state.user.pid,userID:this.$store.state.user.uid,userPhone:this.$store.state.user.uphone,terminal:""},searchChild:{requestType:"agent",requestKeywords:"getbuslist",platformID:this.$store.state.user.pid,userID:this.$store.state.user.uid,userPhone:this.$store.state.user.uphone,keywords:""},sweepCode:{requestType:"sharecode",requestKeywords:"jssdks",code:"code"}},renderData:{brand:[]}}},methods:{choiceBrand:function(){this.popupVisible=!0},onValuesChange:function(e,t){this.deposit=t[0].frozen,this.choiceBrandVal=String(t[0].name)},sys_click:function(){this.queryData.sweepCode.code=location.href,Object(n.a)(this.queryData.sweepCode).then(function(e){console.log(e),1===e.data.responseStatus&&(s.a.config({debug:!1,appId:e.data.data.appId,timestamp:e.data.data.timestamp,nonceStr:e.data.data.nonceStr,signature:e.data.data.signature,jsApiList:["checkJsApi","scanQRCode"]}),s.a.error(function(e){alert("出错了："+e.errMsg)}),s.a.ready(function(){s.a.checkJsApi({jsApiList:["scanQRCode"],success:function(e){}}),s.a.scanQRCode({needResult:1,scanType:["qrCode"],success:function(e){var t=e.resultStr;this.queryData.confirmBinding.terminal=t,alert("扫描结果："+t)}})}))})},brand:function(){var e=this;Object(n.a)(this.queryData.brand).then(function(t){e.slots[0].values=t.data.data})},confirmBinding:function(){var e=this;this.determineBindingLoading=!0,Object(n.a)(this.queryData.confirmBinding).then(function(t){e.determineBindingLoading=!1,console.log(t),1===t.data.responseStatus&&(1==t.data.isPay?window.location.href=t.data.url:2==t.data.isPay&&(console.log("直接帮"),alert("直接帮"))),console.log(t)})},searchChild:function(){var e=this;Object(n.a)(this.queryData.searchChild).then(function(t){1===t.data.responseStatus&&(e.queryData.confirmBinding.childID=t.data.data[0].id,console.log(e.queryData.confirmBinding.childID))})}},created:function(){this.brand()}},o={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"bingding-mplements"},[n("div",{staticClass:"return"},[n("img",{attrs:{src:i("1Hd4"),alt:""},on:{click:function(t){return e.$router.go(-1)}}}),e._v(" "),n("span",[e._v("绑定机具")])]),e._v(" "),n("div",{staticClass:"bingding-mplements-c"},[n("div",{staticClass:"bingding-mplements-choice selectBindMain",on:{click:e.choiceBrand}},[n("h5",[e._v("选择品牌")]),e._v(" "),n("span",{staticClass:"brand-name"},[e._v(e._s(e.choiceBrandVal))])]),e._v(" "),n("div",{staticClass:"bingding-mplements-choice"},[n("h5",{staticClass:"sn"},[e._v("SN号")]),e._v(" "),n("el-input",{staticStyle:{width:"60%"},attrs:{placeholder:"请填写机具序列号"},model:{value:e.queryData.confirmBinding.terminal,callback:function(t){e.$set(e.queryData.confirmBinding,"terminal",t)},expression:"queryData.confirmBinding.terminal"}}),e._v(" "),n("el-button",{attrs:{type:"text"},on:{click:e.sys_click}},[e._v("自动识别")])],1),e._v(" "),n("mt-popup",{attrs:{position:"bottom",closeOnClickModal:"closeOnClickModal"},model:{value:e.popupVisible,callback:function(t){e.popupVisible=t},expression:"popupVisible"}},[n("mt-picker",{attrs:{valueKey:"name",slots:e.slots},on:{change:e.onValuesChange}})],1)],1),e._v(" "),n("div",{staticClass:"payDepositMain"},[e._v("\n     您需要支付："),n("em",[e._v(e._s(e.deposit))]),e._v("元押金\n  ")]),e._v(" "),e._m(0),e._v(" "),n("div",{staticClass:"determine-binding"},[n("el-button",{staticStyle:{"line-height":"0.8rem"},attrs:{type:"primary",loading:e.determineBindingLoading},on:{click:e.confirmBinding}},[e._v("确定绑定")])],1)])},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"depositExplainMain"},[t("h3",[this._v("问：为什么要支付押金?")]),this._v(" "),t("div",[this._v("\n      答：防止恶意领取。激活后押金自动解冻，提现即可！\n    ")])])}]};var c=i("VU/8")(r,o,!1,function(e){i("8djS")},null,null);t.default=c.exports}});
//# sourceMappingURL=47.687470e78d9a906e23c0.js.map