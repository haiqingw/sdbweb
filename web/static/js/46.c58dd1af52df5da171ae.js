webpackJsonp([46],{Qrf1:function(t,e){},cZsf:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i("gyMJ"),a=i("ulGR"),s=i("fxnj"),r=i.n(s);i("vLgD"),i("mw3O");var o=i("Au9i"),c={data:function(){return{deposit:"0",choiceBrandVal:"",popupVisible:!1,closeOnClickModal:!1,determineBindingLoading:!1,slots:[{flex:1,values:[{name:"请选择品牌",id:0}],className:"slot1",textAlign:"right"}],queryData:{brand:{requestType:"agent",requestKeywords:"product",platformID:this.$store.state.user.pid},confirmBinding:{requestType:"terminalmanage",requestKeywords:"bindextreme",platformID:this.$store.state.user.pid,userID:this.$store.state.user.uid,userPhone:this.$store.state.user.uphone,terminal:""},searchChild:{requestType:"agent",requestKeywords:"getbuslist",platformID:this.$store.state.user.pid,userID:this.$store.state.user.uid,userPhone:this.$store.state.user.uphone,keywords:""},sweepCode:{requestType:"sharecode",requestKeywords:"jssdks",code:"code"}},renderData:{brand:[]}}},methods:{choiceBrand:function(){this.popupVisible=!0},onValuesChange:function(t,e){this.deposit=e[0].frozen,this.choiceBrandVal=String(e[0].name)},sys_click:function(){var t=this;this.queryData.sweepCode.code=location.href,Object(n.a)(this.queryData.sweepCode).then(function(e){if(1===e.data.responseStatus){r.a.config({debug:!1,appId:e.data.data.appId,timestamp:e.data.data.timestamp,nonceStr:e.data.data.nonceStr,signature:e.data.data.signature,jsApiList:["checkJsApi","scanQRCode"]}),r.a.error(function(t){});var i=t;r.a.ready(function(){i.queryData.confirmBinding.terminal=1,r.a.scanQRCode({needResult:1,scanType:["barCode"],success:function(t){i.queryData.confirmBinding.terminal=2,setTimeout(function(){i.queryData.confirmBinding.terminal=3;var e=t.resultStr;if(e.indexOf(",")>=0){var n=e.split(",")[1];i.queryData.confirmBinding.terminal=n}else Object(o.Toast)("获取失败")},300)}})})}})},brand:function(){var t=this;Object(n.a)(this.queryData.brand).then(function(e){t.slots[0].values=e.data.data})},confirmBinding:function(){var t=this;if(this.determineBindingLoading=!0,""===this.queryData.confirmBinding.terminal)return Object(o.Toast)("请填写机具序列号"),void(this.determineBindingLoading=!1);Object(n.a)(this.queryData.confirmBinding).then(function(e){t.determineBindingLoading=!1,1===e.data.responseStatus?1==e.data.isPay?window.location.href=e.data.url:2==e.data.isPay&&(Object(o.Toast)("绑定成功"),setTimeout(function(){t.$router.go(-1)},800)):Object(o.Toast)(a.a[e.data.responseStatus])})},searchChild:function(){var t=this;Object(n.a)(this.queryData.searchChild).then(function(e){1===e.data.responseStatus&&(t.queryData.confirmBinding.childID=e.data.data[0].id,console.log(t.queryData.confirmBinding.childID))})}},created:function(){this.brand()}},d={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"bingding-mplements"},[n("div",{staticClass:"return"},[n("img",{attrs:{src:i("1Hd4"),alt:""},on:{click:function(e){return t.$router.go(-1)}}}),t._v(" "),n("span",[t._v("绑定机具")])]),t._v(" "),n("div",{staticClass:"bingding-mplements-c"},[n("div",{staticClass:"bingding-mplements-choice selectBindMain",on:{click:t.choiceBrand}},[n("h5",[t._v("选择品牌")]),t._v(" "),n("span",{staticClass:"brand-name"},[t._v(t._s(t.choiceBrandVal))])]),t._v(" "),n("div",{staticClass:"bingding-mplements-choice"},[n("h5",{staticClass:"sn"},[t._v("SN号")]),t._v(" "),n("el-input",{staticStyle:{width:"60%"},attrs:{placeholder:"请填写机具序列号"},model:{value:t.queryData.confirmBinding.terminal,callback:function(e){t.$set(t.queryData.confirmBinding,"terminal",e)},expression:"queryData.confirmBinding.terminal"}}),t._v(" "),n("el-button",{attrs:{type:"text"},on:{click:t.sys_click}},[t._v("自动识别")])],1),t._v(" "),n("mt-popup",{attrs:{position:"bottom",closeOnClickModal:"closeOnClickModal"},model:{value:t.popupVisible,callback:function(e){t.popupVisible=e},expression:"popupVisible"}},[n("mt-picker",{attrs:{valueKey:"name",slots:t.slots},on:{change:t.onValuesChange}})],1)],1),t._v(" "),n("div",{staticClass:"payDepositMain"},[t._v("\n     您需要支付："),n("em",[t._v(t._s(t.deposit))]),t._v("元押金\n  ")]),t._v(" "),t._m(0),t._v(" "),n("div",{staticClass:"determine-binding"},[n("el-button",{staticStyle:{"line-height":"0.8rem"},attrs:{type:"primary",loading:t.determineBindingLoading},on:{click:t.confirmBinding}},[t._v("确定绑定")])],1)])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"depositExplainMain"},[e("h3",[this._v("问：为什么要支付押金?")]),this._v(" "),e("div",[this._v("\n      答：防止恶意领取。激活后押金自动解冻，提现即可！\n    ")])])}]};var u=i("VU/8")(c,d,!1,function(t){i("Qrf1")},null,null);e.default=u.exports}});
//# sourceMappingURL=46.c58dd1af52df5da171ae.js.map