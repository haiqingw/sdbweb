webpackJsonp([36],{"3k2S":function(t,e){},LPlx:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=i("gyMJ"),s=(i("ulGR"),i("Au9i")),n={data:function(){return{loading:!1,isDownLoading:!1,isUpLoading:!1,upFinished:!1,offset:10,isData:!0,values:{type:"All"},queryData:{list:{requestType:"Order",requestKeywords:"olist",platformID:this.$store.state.user.pid,userID:this.$store.state.user.uid,userPhone:this.$store.state.user.uphone,page:0,isReceipt:"All"},confirmReceipt:{requestType:"Order",requestKeywords:"confirmstatus",id:""},deleteOrder:{requestType:"Order",requestKeywords:"deleteorder",id:""}},renderData:{list:[],oldList:[]}}},methods:{onLoadList:function(){this.queryData.list.page++,this.myOrderList()},onDownRefresh:function(){this.queryData.list.page=1,this.renderData.oldList=[],this.upFinished=!1,this.isData=!0,this.myOrderList()},clickChange:function(){this.queryData.list.isReceipt=this.values.type,this.queryData.list.page=1,this.renderData.oldList=[],this.myOrderList()},loadMore:function(){var t=this;this.loading=!0,setTimeout(function(){t.loading=!1},2500)},loadTop:function(){var t=this;setTimeout(function(){t.$refs.loadmore.onTopLoaded()},2e3)},myOrderList:function(){var t=this;Object(a.a)(this.queryData.list).then(function(e){1===e.data.responseStatus?(t.isData=!0,t.renderData.list=e.data.data,t.renderData.list.forEach(function(e){t.renderData.oldList.push(e)}),t.isDownLoading=!1,t.isUpLoading=!1):300===e.data.responseStatus&&1!==t.queryData.list.page?(t.upFinished=!0,t.isUpLoading=!1):300===e.data.responseStatus&&1===t.queryData.list.page&&(t.upFinished=!1,t.isUpLoading=!1,t.isData=!1)})},comment:function(t){this.$router.push({name:"evaluation",params:{id:t}})},deleteOrder:function(t){var e=this;this.queryData.deleteOrder.id=t,s.MessageBox.confirm("您确定要删除该订单吗?","删除订单").then(function(t){Object(a.a)(e.queryData.deleteOrder).then(function(t){1===t.data.responseStatus?(Object(s.Toast)("删除订单成功"),e.queryData.list.page=0,e.renderData.oldList=[],e.upFinished=!1,e.isData=!0,e.onLoadList()):Object(s.Toast)("删除订单失败")})}).catch(function(){})},confirmReceipt:function(t){var e=this;this.queryData.confirmReceipt.id=t,s.MessageBox.confirm("是否确认订单?","确认订单").then(function(i){Object(a.a)(e.queryData.confirmReceipt).then(function(i){1===i.data.responseStatus?(Object(s.Toast)("确认收货成功"),setTimeout(function(){e.$router.push({name:"evaluation",params:{id:t}})},500)):Object(s.Toast)("确认收货失败")})}).catch(function(){})}}},r={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"myOrder"},[a("div",{staticClass:"return"},[a("img",{attrs:{src:i("1Hd4"),alt:""},on:{click:function(e){return t.$router.go(-1)}}}),t._v(" "),a("span",[t._v("我的订单")])]),t._v(" "),a("div",{staticClass:"myOrderNavMain"},[a("el-radio-group",{attrs:{size:"medium"},on:{change:t.clickChange},model:{value:t.values.type,callback:function(e){t.$set(t.values,"type",e)},expression:"values.type"}},[a("el-radio-button",{attrs:{disabled:t.isUpLoading,label:"All"}},[t._v("全部")]),t._v(" "),a("el-radio-button",{attrs:{disabled:t.isUpLoading,label:"3"}},[t._v("待发货")]),t._v(" "),a("el-radio-button",{attrs:{disabled:t.isUpLoading,label:"2"}},[t._v("待收货")]),t._v(" "),a("el-radio-button",{attrs:{disabled:t.isUpLoading,label:"1"}},[t._v("已完成")]),t._v(" "),a("el-radio-button",{attrs:{disabled:t.isUpLoading,label:"4"}},[t._v("待评论")])],1)],1),t._v(" "),t.isData?a("div",{staticClass:"myOrderListMain"},[a("van-pull-refresh",{on:{refresh:t.onDownRefresh},model:{value:t.isDownLoading,callback:function(e){t.isDownLoading=e},expression:"isDownLoading"}},[a("van-list",{attrs:{finished:t.upFinished,"finished-text":"没有更多了",offset:t.offset},on:{load:t.onLoadList},model:{value:t.isUpLoading,callback:function(e){t.isUpLoading=e},expression:"isUpLoading"}},t._l(t.renderData.oldList,function(e){return a("div",{key:e.id,staticClass:"myOrderItem"},[a("router-link",{attrs:{to:{name:"myOrderDetail",params:{id:e.id}}}},[a("b"),t._v(" "),a("b"),t._v(" "),a("div",{staticClass:"myOrderTitle"},[a("h3",[t._v("\n                                "+t._s(e.productname)+"\n                                "),a("span",[t._v(t._s(e.receipt))])]),t._v(" "),a("p",[t._v("品牌："+t._s(e.productname))])]),t._v(" "),a("div",{staticClass:"myOrderAddress line_bottom"},[a("span",[t._v("费率")]),t._v(" "),a("p",[t._v(t._s(e.rate))])]),t._v(" "),a("div",{staticClass:"myOrderAntherInfo line_bottom"},[a("p",[a("span",[t._v("合计：")]),t._v(" "),a("em",[t._v("￥"+t._s(e.zje)+"（含运费￥"+t._s(e.yunfei)+"）")])]),t._v(" "),a("p",[a("span",[t._v("订单编号：")]),t._v(" "),a("em",[t._v(t._s(e.ordernum))])])])]),t._v(" "),a("div",{staticClass:"myOrderOperation"},["4"==e.isReceipt?a("a",{attrs:{href:"javascript:;"},on:{click:function(i){return t.comment(e.id)}}},[t._v("去评价")]):t._e(),t._v(" "),"2"==e.isReceipt?a("a",{attrs:{href:"javascript:;"},on:{click:function(i){return t.confirmReceipt(e.id)}}},[t._v("确认收货")]):t._e(),t._v(" "),null==e.isReceipt?a("a",{attrs:{href:"javascript:;"},on:{click:function(i){return t.deleteOrder(e.id)}}},[t._v("删除订单")]):t._e()])],1)}),0)],1)],1):a("div",{staticClass:"no-data"},[a("img",{attrs:{src:i("dotK"),alt:""}})])])},staticRenderFns:[]};var o=i("VU/8")(n,r,!1,function(t){i("3k2S")},null,null);e.default=o.exports}});
//# sourceMappingURL=36.604375065771dafe2ff2.js.map